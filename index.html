<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ú¯Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ù</title>
<style>
body { background-color: #0d0d0d; color: white; font-family: sans-serif; margin:0; padding:0; }
.cp-container { position: fixed; top:15px; left:15px; display:flex; align-items:center; gap:10px; z-index:2002; }
.cp-logo { width:50px;height:50px;background-color:#FFD700;color:black;font-size:24px;font-weight:bold;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 8px rgba(255,215,0,0.7);}
.cp-amount{font-size:22px;font-weight:bold;}
.inventory-button{position:fixed;top:15px;right:15px;background-color:#1a1a1a;color:#FFD700;border:2px solid #FFD700;padding:10px 20px;border-radius:10px;cursor:pointer;font-weight:bold;font-size:16px;z-index:2002;}
.settings-button{position:fixed;top:15px;left:50%;transform:translateX(-50%);background-color:#1a1a1a;color:#FFD700;border:2px solid #FFD700;padding:10px 20px;border-radius:10px;cursor:pointer;font-weight:bold;z-index:2002;}
.modal{display:none;position:fixed;z-index:3000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,0.7);justify-content:center;align-items:center;}
.modal-content{background-color:#1a1a1a;padding:25px 35px;border-radius:12px;text-align:center;color:white;box-shadow:0 0 20px rgba(255,215,0,0.3);min-width:280px;}
.modal-content h3 { margin-top:0; color:#FFD700;}
.confirm-yes{background-color:#4CAF50;color:white;border:none;padding:10px 16px;margin:8px;border-radius:10px;cursor:pointer;font-weight:bold;}
.confirm-no{background-color:#FF4C4C;color:white;border:none;padding:10px 16px;margin:8px;border-radius:10px;cursor:pointer;font-weight:bold;}
.inventory-popup{position:fixed;top:80px;right:15px;background-color:#1a1a1a;padding:20px;border-radius:15px;max-width:320px;box-shadow:0 0 15px rgba(255,215,0,0.3);display:none;z-index:2003;}
.inventory-popup h3{margin:0 0 10px;color:#FFD700;}
.inventory-popup ul{list-style:none;padding:0;margin:0;}
.inventory-popup li{margin:6px 0;font-size:14px;}
.cp-message,.buy-message{position:fixed;top:80px;left:50%;transform:translateX(-50%);background:rgba(0,255,0,0.2);border:2px solid limegreen;padding:12px 20px;border-radius:12px;color:white;font-weight:bold;font-size:16px;display:none;z-index:4000;box-shadow:0 0 15px limegreen;}
h1{margin-top:100px;text-align:center;}
.guns-container,.crates-container{display:flex;justify-content:center;gap:30px;flex-wrap:wrap;padding:20px;}
.gun,.crate{background-color:#1a1a1a;border-radius:16px;padding:12px;width:300px;box-shadow:0 0 12px rgba(255,255,255,0.06);transition:0.2s;}
.gun:hover,.crate:hover{transform:translateY(-6px);box-shadow:0 10px 25px rgba(0,0,0,0.6);}
.gun img,.crate img{width:100%;border-radius:12px;display:block;min-height:140px;object-fit:cover;}
.gun h2,.crate h2{margin-top:12px;text-align:center;}
.buy-button{display:block;padding:10px;margin:10px auto 0 auto;font-size:16px;background-color:#FFD700;color:black;border:none;border-radius:10px;cursor:pointer;font-weight:bold;}
.buy-button:disabled{background-color:gray;cursor:not-allowed;}
.gun.mythic{border:2px solid red;}
.gun.legend{border:2px solid yellow;}
.crate{border:2px solid purple;box-shadow:0 0 20px rgba(128,0,255,0.6);}
.cp-effect{animation:glow 1s ease-in-out infinite alternate;}
@keyframes glow{from{box-shadow:0 0 8px limegreen;}to{box-shadow:0 0 16px limegreen;}}
.username-modal input{width:100%;padding:10px;border-radius:8px;border:none;margin-top:10px;margin-bottom:15px;font-size:16px;text-align:center;}
.username-modal button{background-color:#FFD700;color:black;font-weight:bold;border:none;padding:10px 20px;border-radius:10px;cursor:pointer;}
</style>
</head>
<body>

<div class="cp-container"><div class="cp-logo">CP</div><div class="cp-amount">0</div></div>
<button class="settings-button" id="openSettings">âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
<button class="inventory-button" id="invBtn">Ø¯Ø§Ø±Ø§ÛŒÛŒâ€ŒÙ‡Ø§</button>
<div class="cp-message" id="cpMessage">Ø´Ù…Ø§ 0.2 Ø³ÛŒ Ù¾ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒÙ† âœ…</div>
<div class="buy-message" id="buyMessage"></div>

<div id="usernameModal" class="modal username-modal">
  <div class="modal-content">
    <h3>ğŸ® Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†!</h3>
    <p>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:</p>
    <input type="text" id="usernameInput" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø´Ø§Ù‡ÛŒÙ†â€ŒÚ©Ù„Ø§ÙÛŒ">
    <button id="saveUsername">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ ğŸš€</button>
  </div>
</div>

<div id="settingsModal" class="modal">
    <div class="modal-content">
        <h3>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</h3>
        <div style="display:flex; justify-content:center; gap:8px; flex-wrap:wrap;">
            <button class="confirm-yes" id="settingsDelete">Ø­Ø°Ù Ø§Ú©Ø§Ù†Øª</button>
            <button class="confirm-yes" id="freeCpBtn">CP Ø±Ø§ÛŒÚ¯Ø§Ù† (+0.2)</button>
            <button class="confirm-yes" id="openCrates">Ú©Ø±ÛŒØª</button>
            <button class="confirm-no" id="closeSettings">Ø¨Ø³ØªÙ†</button>
        </div>
    </div>
</div>

<div id="deleteModal" class="modal">
    <div class="modal-content">
        <p>Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ú©Ø§Ù†Øª Ø­Ø°Ù Ø´ÙˆØ¯ØŸ</p>
        <div style="display:flex; justify-content:center;">
            <button class="confirm-yes" id="confirmDelete">Ø¨Ù„Ù‡</button>
            <button class="confirm-no" id="cancelDelete">Ø®ÛŒØ±</button>
        </div>
    </div>
</div>

<div class="inventory-popup" id="inventoryPopup">
    <h3>Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯Ù‡:</h3>
    <ul id="inventoryList"></ul>
</div>

<h1>Ú¯Ø§Ù†â€ŒÙ‡Ø§ÛŒ Call of Duty Mobile ğŸ¯</h1>

<div class="guns-container" id="gunsContainer">
    <div class="gun legend"><h2>Ø¯ÛŒÙ„ - Ù„Ø¬Ù†Ø¯ (2000 CP)</h2><img src="https://s6.uupload.ir/files/hq720_v85q.jpg"><button class="buy-button" data-name="Ø¯ÛŒÙ„ - Ù„Ø¬Ù†Ø¯" data-cost="2000">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun legend"><h2>Ø§Ú†Ø³ - Ù„Ø¬Ù†Ø¯ (1500 CP)</h2><img src="https://s6.uupload.ir/files/7f4ca79dc7b9da6a930898c5090c21f8_chimage-1-1024x460_q5fa.jpg"><button class="buy-button" data-name="Ø§Ú†Ø³ - Ù„Ø¬Ù†Ø¯" data-cost="1500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ú©ÛŒÙ„Ùˆ - Ù…ØªÛŒÚ© (3500 CP)</h2><img src="https://s6.uupload.ir/files/62926955-8482-l_1195_rnj6.jpg"><button class="buy-button" data-name="Ú©ÛŒÙ„Ùˆ - Ù…ØªÛŒÚ©" data-cost="3500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ø¯ÛŒÙ„ - Ù…ØªÛŒÚ© (3600 CP)</h2><img src="https://s6.uupload.ir/files/63265058-6451-l_2270_0dpp.jpg"><button class="buy-button" data-name="Ø¯ÛŒÙ„ - Ù…ØªÛŒÚ©" data-cost="3600">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ø§Ø³Ù¾Ú©ØªØ± - Ù…ØªÛŒÚ© (6500 CP)</h2><img src="https://s6.uupload.ir/files/spectre-t3-codm_i1i0.jpg"><button class="buy-button" data-name="Ø§Ø³Ù¾Ú©ØªØ± - Ù…ØªÛŒÚ©" data-cost="6500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun legend"><h2>ÙØ±Ø¹ÙˆÙ† - Ù…ØµØ± (4500 CP)</h2><img src="https://s6.uupload.ir/files/phantom-osiris-1280x720_vyjj.jpg"><button class="buy-button" data-name="ÙØ±Ø¹ÙˆÙ† - Ù…ØµØ±" data-cost="4500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>ÛŒÙˆØ²ÛŒ - Ø¹Ù†Ú©Ø¨ÙˆØªÛŒ (5500 CP)</h2><img src="https://s6.uupload.ir/files/66572151-5924-l_8973_pf70.jpg"><button class="buy-button" data-name="ÛŒÙˆØ²ÛŒ - Ø¹Ù†Ú©Ø¨ÙˆØªÛŒ" data-cost="5500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ú¯Ø±Ù† - ØªØ§Ø±ÛŒÚ© (6500 CP)</h2><img src="https://s6.uupload.ir/files/56386420-7907-l_2149_4fgn.jpg"><button class="buy-button" data-name="Ú¯Ø±Ù† - ØªØ§Ø±ÛŒÚ©" data-cost="6500">Ø®Ø±ÛŒØ¯</button></div>
</div>

<div class="crates-container" id="cratesContainer" style="display:none;">
  <div class="crate">
    <h2>ÙˆÛŒÚ†-ÙˆØ§Ø±Ø¯Ù† (10 CP)</h2>
    <img src="https://s6.uupload.ir/files/broken-skin-igame-min_(1)_99dy.jpg" alt="ÙˆÛŒÚ†-ÙˆØ§Ø±Ø¯Ù†">
    <button class="buy-button" data-name="ÙˆÛŒÚ†-ÙˆØ§Ø±Ø¯Ù†" data-cost="10">Ø®Ø±ÛŒØ¯</button>
  </div>
  <button class="confirm-no" id="backFromCrates" style="margin-top:20px;">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
</div>

<script>
let username=localStorage.getItem('username');
let inventory=JSON.parse(localStorage.getItem('inventory'))||[];
let currentCP=localStorage.getItem('cp')?parseFloat(localStorage.getItem('cp')):0;

function renderCP(){document.querySelector('.cp-amount').textContent=Number.isInteger(currentCP)?currentCP:currentCP.toFixed(1);}
function updateInventoryDisplay(){const list=document.getElementById('inventoryList');list.innerHTML='';inventory.forEach(item=>{let li=document.createElement('li');li.textContent=item;list.appendChild(li);});}
function showCPMessage(amount){const msg=document.getElementById('cpMessage');msg.textContent=`Ø´Ù…Ø§ ${amount} Ø³ÛŒ Ù¾ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒÙ† âœ…`;msg.style.display='block';msg.classList.add('cp-effect');setTimeout(()=>{msg.style.display='none';msg.classList.remove('cp-effect');},2000);}
function showBuyMessage(name){const msg=document.getElementById('buyMessage');msg.textContent=`ğŸ‰ Ø®Ø±ÛŒØ¯ ${name} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ âœ…`;msg.style.display='block';msg.classList.add('cp-effect');setTimeout(()=>{msg.style.display='none';msg.classList.remove('cp-effect');},2000);}

function initialize(){
  if(!username){
    document.getElementById('usernameModal').style.display='flex';
  } else {
    renderCP();
    updateInventoryDisplay();
    document.querySelectorAll('.buy-button').forEach(button=>{
      if(inventory.includes(button.getAttribute('data-name'))) button.disabled=true;
    });
  }
}

document.getElementById('saveUsername').addEventListener('click',()=>{
  const input=document.getElementById('usernameInput').value.trim();
  if(input){
    username=input;
    localStorage.setItem('username',username);
    localStorage.setItem('cp',0);
    localStorage.setItem('inventory',JSON.stringify([]));
    document.getElementById('usernameModal').style.display='none';
    alert(`Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ ${username}! ğŸ¯`);
    location.reload();
  }
});

function buyItemByButton(button){
  const name=button.getAttribute('data-name');
  const cost=parseFloat(button.getAttribute('data-cost'));
  if(currentCP>=cost){
    if(!inventory.includes(name)){
      currentCP-=cost;
      localStorage.setItem('cp',currentCP);
      renderCP();
      inventory.push(name);
      localStorage.setItem('inventory',JSON.stringify(inventory));
      button.disabled=true;
      showBuyMessage(name);
      updateInventoryDisplay();
    }
  } else alert("CP Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª âŒ");
}

document.getElementById('openSettings').addEventListener('click',()=>{document.getElementById('settingsModal').style.display='flex';});
document.getElementById('closeSettings').addEventListener('click',()=>{document.getElementById('settingsModal').style.display='none';});
document.getElementById('invBtn').addEventListener('click',()=>{const inv=document.getElementById('inventoryPopup');inv.style.display=inv.style.display==='block'?'none':'block';});
document.getElementById('settingsDelete').addEventListener('click',()=>{document.getElementById('deleteModal').style.display='flex';});
document.getElementById('confirmDelete').addEventListener('click',()=>{localStorage.clear(); location.reload();});
document.getElementById('cancelDelete').addEventListener('click',()=>{document.getElementById('deleteModal').style.display='none';});
document.getElementById('freeCpBtn').addEventListener('click',e=>{if(!e.isTrusted) return; currentCP=parseFloat((currentCP+0.2).toFixed(1)); localStorage.setItem('cp',currentCP); renderCP(); showCPMessage(0.2);});
document.addEventListener('click',e=>{const btn=e.target.closest('.buy-button');if(btn) buyItemByButton(btn);});
document.getElementById('openCrates').addEventListener('click',()=>{document.getElementById('settingsModal').style.display='none';document.getElementById('gunsContainer').style.display='none';document.getElementById('cratesContainer').style.display='flex';});
document.getElementById('backFromCrates').addEventListener('click',()=>{document.getElementById('cratesContainer').style.display='none';document.getElementById('gunsContainer').style.display='flex';});
window.addEventListener('load',initialize);
</script>
</body>
</html>
