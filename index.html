<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ú¯Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ù</title>
<style>
body { background-color: #0d0d0d; color: white; font-family: sans-serif; margin:0; padding:0; }
.cp-container { position: fixed; top:15px; left:15px; display:flex; align-items:center; gap:10px; z-index:2002; }
.cp-logo { width:50px;height:50px;background-color:#FFD700;color:black;font-size:24px;font-weight:bold;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 8px rgba(255,215,0,0.7);}
.cp-amount{font-size:22px;font-weight:bold;}
.inventory-button{position:fixed;top:15px;right:15px;background-color:#1a1a1a;color:#FFD700;border:2px solid #FFD700;padding:10px 20px;border-radius:10px;cursor:pointer;font-weight:bold;font-size:16px;z-index:2002;}
.settings-button{position:fixed;top:15px;left:50%;transform:translateX(-50%);background-color:#1a1a1a;color:#FFD700;border:2px solid #FFD700;padding:10px 20px;border-radius:10px;cursor:pointer;font-weight:bold;z-index:2002;}
.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,0.7);justify-content:center;align-items:center;}
.modal-content{background-color:#1a1a1a;padding:20px 30px;border-radius:12px;text-align:center;color:white;box-shadow:0 0 20px rgba(255,215,0,0.2);min-width:260px;}
.modal-content h3 { margin-top:0; color:#FFD700;}
.confirm-yes{background-color:#4CAF50;color:white;border:none;padding:10px 16px;margin:8px;border-radius:10px;cursor:pointer;font-weight:bold;}
.confirm-no{background-color:#FF4C4C;color:white;border:none;padding:10px 16px;margin:8px;border-radius:10px;cursor:pointer;font-weight:bold;}
.inventory-popup{position:fixed;top:80px;right:15px;background-color:#1a1a1a;padding:20px;border-radius:15px;max-width:320px;box-shadow:0 0 15px rgba(255,215,0,0.3);display:none;z-index:2003;}
.inventory-popup h3{margin:0 0 10px;color:#FFD700;}
.inventory-popup ul{list-style:none;padding:0;margin:0;}
.inventory-popup li{margin:6px 0;font-size:14px;}
.cp-message{position:fixed;top:80px;left:50%;transform:translateX(-50%);background:rgba(0,255,0,0.2);border:2px solid limegreen;padding:12px 20px;border-radius:12px;color:white;font-weight:bold;font-size:16px;display:none;z-index:3000;box-shadow:0 0 15px limegreen;}
h1{margin-top:100px;text-align:center;}
.guns-container,.crates-container,.battlepass-container{display:flex;justify-content:center;gap:30px;flex-wrap:wrap;padding:20px;}
.gun,.crate,.battlepass{background-color:#1a1a1a;border-radius:16px;padding:12px;width:300px;box-shadow:0 0 12px rgba(255,255,255,0.06);transition:0.2s;}
.gun:hover,.crate:hover,.battlepass:hover{transform:translateY(-6px);box-shadow:0 10px 25px rgba(0,0,0,0.6);}
.gun img,.crate img,.battlepass img{width:100%;border-radius:12px;display:block;min-height:140px;object-fit:cover;}
.gun h2,.crate h2,.battlepass h2{margin-top:12px;text-align:center;}
.buy-button{display:block;padding:10px;margin:10px auto 0 auto;font-size:16px;background-color:#FFD700;color:black;border:none;border-radius:10px;cursor:pointer;font-weight:bold;}
.buy-button:disabled{background-color:gray;cursor:not-allowed;}
.gun.mythic{border:2px solid red;}
.gun.legend{border:2px solid yellow;}
.crate{border:2px solid purple;box-shadow:0 0 20px rgba(128,0,255,0.6);}
.crate.free{border:2px solid purple;}
.battlepass{border:2px solid #00BFFF;box-shadow:0 0 20px rgba(0,191,255,0.6);}
.strike{ text-decoration: line-through; color: gray; }
.cp-effect{animation:glow 1s ease-in-out infinite alternate;}
@keyframes glow{from{box-shadow:0 0 8px limegreen;}to{box-shadow:0 0 16px limegreen;}}
</style>
</head>
<body>

<div class="cp-container"><div class="cp-logo">CP</div><div class="cp-amount">0</div></div>
<button class="settings-button" id="openSettings">âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
<button class="inventory-button" id="invBtn">Ø¯Ø§Ø±Ø§ÛŒÛŒâ€ŒÙ‡Ø§</button>
<div class="cp-message" id="cpMessage"></div>

<div id="settingsModal" class="modal">
    <div class="modal-content">
        <h3>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</h3>
        <div style="display:flex; justify-content:center; gap:8px; flex-wrap:wrap;">
            <button class="confirm-yes" id="settingsDelete">Ø­Ø°Ù Ø§Ú©Ø§Ù†Øª</button>
            <button class="confirm-yes" id="freeCpBtn">CP Ø±Ø§ÛŒÚ¯Ø§Ù† (+0.5)</button>
            <button class="confirm-yes" id="openCrates">Ú©Ø±ÛŒØªâ€ŒÙ‡Ø§</button>
            <button class="confirm-yes" id="openBattlePass">Ø¨ØªÙ„â€ŒÙ¾Ø³â€ŒÙ‡Ø§</button>
            <button class="confirm-yes" id="checkBalance">Ù…ÙˆØ¬ÙˆØ¯ÛŒ CP</button>
            <button class="confirm-no" id="closeSettings">Ø¨Ø³ØªÙ†</button>
        </div>
    </div>
</div>

<div id="deleteModal" class="modal">
    <div class="modal-content">
        <p>Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ú©Ø§Ù†Øª Ø­Ø°Ù Ø´ÙˆØ¯ØŸ</p>
        <div style="display:flex; justify-content:center;">
            <button class="confirm-yes" id="confirmDelete">Ø¨Ù„Ù‡</button>
            <button class="confirm-no" id="cancelDelete">Ø®ÛŒØ±</button>
        </div>
    </div>
</div>

<div class="inventory-popup" id="inventoryPopup">
    <h3>Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒâ€ŒØ´Ø¯Ù‡:</h3>
    <ul id="inventoryList"></ul>
</div>

<h1>Ú¯Ø§Ù†â€ŒÙ‡Ø§ÛŒ Call of Duty Mobile ğŸ¯</h1>

<div class="guns-container" id="gunsContainer">
    <div class="gun legend"><h2>Ø¯ÛŒÙ„ - Ù„Ø¬Ù†Ø¯ (2000 CP)</h2><img src="https://s6.uupload.ir/files/hq720_mjy1.jpg"><button class="buy-button" data-name="Ø¯ÛŒÙ„ - Ù„Ø¬Ù†Ø¯" data-cost="2000">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun legend"><h2>Ø§Ú†Ø³ - Ù„Ø¬Ù†Ø¯ (1500 CP)</h2><img src="https://s6.uupload.ir/files/7f4ca79dc7b9da6a930898c5090c21f8_chimage-1-1024x460_vz1y.jpg"><button class="buy-button" data-name="Ø§Ú†Ø³ - Ù„Ø¬Ù†Ø¯" data-cost="1500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ú©ÛŒÙ„Ùˆ - Ù…ØªÛŒÚ© (3500 CP)</h2><img src="https://s6.uupload.ir/files/62926955-8482-l_1195_rnj6.jpg"><button class="buy-button" data-name="Ú©ÛŒÙ„Ùˆ - Ù…ØªÛŒÚ©" data-cost="3500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ø¯ÛŒÙ„ - Ù…ØªÛŒÚ© (3600 CP)</h2><img src="https://s6.uupload.ir/files/63265058-6451-l_2270_0dpp.jpg"><button class="buy-button" data-name="Ø¯ÛŒÙ„ - Ù…ØªÛŒÚ©" data-cost="3600">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ø§Ø³Ù¾Ú©ØªØ± - Ù…ØªÛŒÚ© (6500 CP)</h2><img src="https://s6.uupload.ir/files/spectre-t3-codm_i1i0.jpg"><button class="buy-button" data-name="Ø§Ø³Ù¾Ú©ØªØ± - Ù…ØªÛŒÚ©" data-cost="6500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun legend"><h2>ÙØ±Ø¹ÙˆÙ† - Ù…ØµØ± (4500 CP)</h2><img src="https://s6.uupload.ir/files/phantom-osiris-1280x720_vyjj.jpg"><button class="buy-button" data-name="ÙØ±Ø¹ÙˆÙ† - Ù…ØµØ±" data-cost="4500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>ÛŒÙˆØ²ÛŒ - Ø¹Ù†Ú©Ø¨ÙˆØªÛŒ (5500 CP)</h2><img src="https://s6.uupload.ir/files/66572151-5924-l_8973_pf70.jpg"><button class="buy-button" data-name="ÛŒÙˆØ²ÛŒ - Ø¹Ù†Ú©Ø¨ÙˆØªÛŒ" data-cost="5500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun mythic"><h2>Ú¯Ø±Ù† - ØªØ§Ø±ÛŒÚ© (6500 CP)</h2><img src="https://s6.uupload.ir/files/56386420-7907-l_2149_4fgn.jpg"><button class="buy-button" data-name="Ú¯Ø±Ù† - ØªØ§Ø±ÛŒÚ©" data-cost="6500">Ø®Ø±ÛŒØ¯</button></div>
    <div class="gun legend"><h2>Ø§Ø±Ù¾ÛŒÚ†ÛŒ - Ø®Ù†Ø¯Ù‡ (<span class="strike">3500</span> âœ 1500 CP)</h2><img src="https://s6.uupload.ir/files/ahr0chm6ly9pcnmwms53axnnb29ulmnvbs9pcnmwms84nc82yi84nc81ys9pcnmwmv8xmdgwedywn19pdlpubexzzv80ntu3otc3xze3mdg0mjgxmdc3ndk2nji4ndiuanblzw_(1)_8nw1.jpg"><button class="buy-button" data-name="Ø§Ø±Ù¾ÛŒÚ†ÛŒ - Ø®Ù†Ø¯Ù‡" data-cost="1500">Ø®Ø±ÛŒØ¯</button></div>
</div>

<div class="crates-container" id="cratesContainer" style="display:none;">
  <div class="crate">
    <h2>ÙˆÛŒÚ†-ÙˆØ§Ø±Ø¯Ù† (10 CP)</h2>
    <img src="https://s6.uupload.ir/files/broken-skin-igame-min_(1)_99dy.jpg" alt="ÙˆÛŒÚ†-ÙˆØ§Ø±Ø¯Ù†">
    <button class="buy-button" data-name="ÙˆÛŒÚ†-ÙˆØ§Ø±Ø¯Ù†" data-cost="10">Ø®Ø±ÛŒØ¯</button>
  </div>
  <div class="crate free">
    <h2>Ø¨Ø±ÙˆÚ©Ù† (Ø±Ø§ÛŒÚ¯Ø§Ù†)</h2>
    <img src="https://s6.uupload.ir/files/a1ab1a78bc85bb8cd04a5fa51132981d_chimage-1-scaled_rc0f.jpg" alt="Ø¨Ø±ÙˆÚ©Ù†">
    <button class="buy-button" data-name="Ø¨Ø±ÙˆÚ©Ù†" data-cost="0">Ø¯Ø±ÛŒØ§ÙØª</button>
  </div>
  <button class="confirm-no" id="backFromCrates" style="margin-top:20px;">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
</div>

<div class="battlepass-container" id="battlepassContainer" style="display:none;">
  <div class="battlepass">
    <h2>Ø¨ØªÙ„ Ù¾Ø³ Ø³ÛŒØ²Ù† 1 (220 CP)</h2>
    <img src="https://s6.uupload.ir/files/maxresdefault_hsm7.jpg" alt="Ø¨ØªÙ„ Ù¾Ø³ Ø³ÛŒØ²Ù† 1">
    <button class="buy-button" data-name="Ø¨ØªÙ„ Ù¾Ø³ Ø³ÛŒØ²Ù† 1" data-cost="220">Ø®Ø±ÛŒØ¯</button>
  </div>
  <button class="confirm-no" id="backFromBattlepass" style="margin-top:20px;">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
</div>

<script>
let username=localStorage.getItem('username');
let inventory=JSON.parse(localStorage.getItem('inventory'))||[];
let currentCP=parseFloat(localStorage.getItem('cp')||0);

function renderCP(){document.querySelector('.cp-amount').textContent=currentCP.toFixed(1);}

function updateInventoryDisplay(){
    const list = document.getElementById('inventoryList');
    list.innerHTML = '';
    inventory.forEach(itemName => {
        let li = document.createElement('li');
        li.textContent = itemName;

        // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¹Ù†ØµØ± Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ¹ÛŒÛŒÙ† Ù†ÙˆØ¹ Ùˆ Ø±Ù†Ú¯
        let itemEl = document.querySelector(`[data-name="${itemName}"]`);
        if(itemEl){
            if(itemEl.closest('.gun')?.classList.contains('legend')) li.style.color = 'yellow';
            else if(itemEl.closest('.gun')?.classList.contains('mythic')) li.style.color = 'red';
            else if(itemEl.closest('.crate')?.classList.contains('free')) li.style.color = 'purple';
            else if(itemEl.closest('.battlepass')) li.style.color = '#00BFFF';
        }

        list.appendChild(li);
    });
}

function showCPMessage(txt){
    const msg=document.getElementById('cpMessage');
    msg.textContent=txt;
    msg.style.display='block';
    msg.classList.add('cp-effect');
    setTimeout(()=>{msg.style.display='none';msg.classList.remove('cp-effect');},2000);
}

function initialize(){
    if(!username){
        username=prompt("Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
        if(!username)username="Ú©Ø§Ø±Ø¨Ø±";
        localStorage.setItem('username',username);
        showCPMessage(`Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ ${username}! ğŸ®`);
    }
    renderCP();
    updateInventoryDisplay();
    document.querySelectorAll('.buy-button').forEach(btn=>{if(inventory.includes(btn.dataset.name))btn.disabled=true;});
}

function buyItem(btn){
    let n=btn.dataset.name,c=parseFloat(btn.dataset.cost);
    if(currentCP>=c){
        if(!inventory.includes(n)){
            currentCP-=c;
            localStorage.setItem('cp',currentCP);
            renderCP();
            inventory.push(n);
            localStorage.setItem('inventory',JSON.stringify(inventory));
            btn.disabled=true;
            showCPMessage(`${n} Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯ âœ…`);
            updateInventoryDisplay();
        }
    } else alert("CP Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª âŒ");
}

document.getElementById('openSettings').onclick=()=>{document.getElementById('settingsModal').style.display='flex';};
document.getElementById('closeSettings').onclick=()=>{document.getElementById('settingsModal').style.display='none';};
document.getElementById('invBtn').onclick=()=>{let i=document.getElementById('inventoryPopup');i.style.display=i.style.display==='block'?'none':'block';};
document.getElementById('settingsDelete').onclick=()=>{document.getElementById('deleteModal').style.display='flex';};
document.getElementById('confirmDelete').onclick=()=>{localStorage.clear();location.reload();};
document.getElementById('cancelDelete').onclick=()=>{document.getElementById('deleteModal').style.display='none';};
document.getElementById('freeCpBtn').onclick=e=>{if(!e.isTrusted)return;currentCP+=0.5;localStorage.setItem('cp',currentCP);renderCP();showCPMessage("Ø´Ù…Ø§ 0.5 Ø³ÛŒâ€ŒÙ¾ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯ âœ…");};
document.addEventListener('click',e=>{const btn=e.target.closest('.buy-button');if(btn)buyItem(btn);});
document.getElementById('openCrates').onclick=()=>{document.getElementById('settingsModal').style.display='none';document.getElementById('gunsContainer').style.display='none';document.getElementById('cratesContainer').style.display='flex';};
document.getElementById('backFromCrates').onclick=()=>{document.getElementById('cratesContainer').style.display='none';document.getElementById('gunsContainer').style.display='flex';};
document.getElementById('openBattlePass').onclick=()=>{document.getElementById('settingsModal').style.display='none';document.getElementById('gunsContainer').style.display='none';document.getElementById('battlepassContainer').style.display='flex';};
document.getElementById('backFromBattlepass').onclick=()=>{document.getElementById('battlepassContainer').style.display='none';document.getElementById('gunsContainer').style.display='flex';};
document.getElementById('checkBalance').onclick=()=>{showCPMessage(`CP ÙØ¹Ù„ÛŒ Ø´Ù…Ø§: ${currentCP.toFixed(1)} ğŸ’°`);};

window.onload=initialize;
</script>
</body>
    </html>
